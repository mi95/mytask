(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-set-grzl-grzl"],{"09f0":function(t,e,a){"use strict";function n(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var a=[],n=!0,i=!1,r=void 0;try{for(var l,o=t[Symbol.iterator]();!(n=(l=o.next()).done);n=!0)if(a.push(l.value),e&&a.length===e)break}catch(s){i=!0,r=s}finally{try{n||null==o["return"]||o["return"]()}finally{if(i)throw r}}return a}}a("a4d3"),a("e01a"),a("d28b"),a("d3b7"),a("3ca3"),a("ddb0"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},"0d21":function(t,e,a){"use strict";function n(t){if(Array.isArray(t))return t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},"2e85":function(t,e,a){"use strict";a.r(e);var n=a("3c0a"),i=a("e1d6");for(var r in i)"default"!==r&&function(t){a.d(e,t,(function(){return i[t]}))}(r);a("cb0f");var l,o=a("f0c5"),s=Object(o["a"])(i["default"],n["b"],n["c"],!1,null,"799a34ef",null,!1,n["a"],l);e["default"]=s.exports},3835:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=o(a("0d21")),i=o(a("09f0")),r=o(a("06c5")),l=o(a("3d8c"));function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e){return(0,n.default)(t)||(0,i.default)(t,e)||(0,r.default)(t,e)||(0,l.default)()}},"3c0a":function(t,e,a){"use strict";var n;a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"container"},[a("v-uni-view",{staticClass:"list-cell b-b avatar",attrs:{"hover-class":"cell-hover","hover-stay-time":50},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clk(0)}}},[a("v-uni-text",{staticClass:"cell-tit"},[t._v("头像")]),a("v-uni-image",{attrs:{src:t.urls,mode:"widthFix"}}),a("v-uni-text",{staticClass:"cell-more yticon icon-you"})],1),a("v-uni-view",{staticClass:"list-cell",attrs:{"hover-class":"cell-hover","hover-stay-time":50},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.navTo("../../set/grzl/nc/nc?ty=nickname&name=呢称&v="+t.listgrzl.nickname)}}},[a("v-uni-text",{staticClass:"cell-tit"},[t._v("真实姓名")]),a("v-uni-text",{staticClass:"cell-tip"},[t._v(t._s(t.listgrzl.nickname))]),a("v-uni-text",{staticClass:"cell-more yticon icon-you"})],1),a("v-uni-view",{staticClass:"list-cell m-t b-b",attrs:{"hover-class":"cell-hover","hover-stay-time":50},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.sex.apply(void 0,arguments)}}},[a("v-uni-text",{staticClass:"cell-tit"},[t._v("性别")]),a("v-uni-text",{staticClass:"cell-tip"},[t._v(t._s(t.sexType))]),a("v-uni-text",{staticClass:"cell-more yticon icon-you"})],1),a("v-uni-view",{staticClass:"list-cell",attrs:{"hover-class":"cell-hover","hover-stay-time":50},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.navTo("../../set/grzl/nc/nc?ty=org&name=生日&v="+t.listgrzl.birthday)}}},[a("v-uni-text",{staticClass:"cell-tit"},[t._v("生日")]),a("v-uni-text",{staticClass:"cell-tip"},[t._v(t._s(t.listgrzl.birthday))]),a("v-uni-text",{staticClass:"cell-more yticon icon-you"})],1),a("v-uni-view",{staticClass:"list-cell"},[a("v-uni-text",{staticClass:"cell-tit"},[t._v("手机号")]),a("v-uni-text",{staticClass:"cell-tip"},[t._v(t._s(t.listgrzl.mobile))])],1),a("avatar",{ref:"avatar",attrs:{quality:"0.8"},on:{upload:function(e){arguments[0]=e=t.$handleEvent(e),t.doUpload.apply(void 0,arguments)},avtinit:function(e){arguments[0]=e=t.$handleEvent(e),t.doBefore.apply(void 0,arguments)}}})],1)},r=[]},"3d8c":function(t,e,a){"use strict";function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},"9d87":function(t,e,a){"use strict";var n=a("4ea4");a("c975"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(a("3835"));a("96cf");var r=n(a("1da1")),l=n(a("5530")),o=n(a("300a")),s=a("2f62"),c=["女","男"],u={data:function(){return{urls:"",sexsi:"",array:[],ageid:0,listgrzl:[],msg:!1,imgUrl:this.config.imgUrl}},computed:{sexType:function(){return c[this.sexsi]}},onShow:function(){this.ongrzlTap(),this.msg&&(uni.showToast({title:"保存成功",icon:"none"}),this.msg=!1)},methods:(0,l.default)((0,l.default)((0,l.default)({},(0,s.mapMutations)(["logout"])),(0,s.mapMutations)(["login"])),{},{ongrzlTap:function(){var t=this;return(0,r.default)(regeneratorRuntime.mark((function e(){var a,n,r,l,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t,e.next=3,t.$http.get("/api/user/index",{},{token:!0});case 3:if(a=e.sent,n=(0,i.default)(a,2),r=n[0],l=n[1],t.$http.errorCheck(r,l)){e.next=9;break}return e.abrupt("return");case 9:1===l.data.code?(t.listgrzl=l.data.data,t.sexsi=l.data.data.gender,o=l.data.data.avatar,-1!=o.indexOf("http")?t.urls=l.data.data.avatar:t.urls=t.config.imgUrl+l.data.data.avatar):(t.$api.msg(l.data.msg),t.logining=!1);case 10:case"end":return e.stop()}}),e)})))()},navTo:function(t){uni.navigateTo({url:t,animationType:"slide-in-bottom"})},navsTo:function(t){uni.navigateTo({url:t})},toLogout:function(){var t=this;uni.showModal({content:"确定要退出登录么",success:function(e){e.confirm&&(t.logout(),setTimeout((function(){uni.navigateBack()}),200))}})},sex:function(){var t=this;uni.showActionSheet({itemList:c,success:function(e){t.sexgender(e)}})},sexgender:function(t){var e=this;return(0,r.default)(regeneratorRuntime.mark((function a(){var n,r,l,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e,a.next=3,e.$http.post("/api/user/edituser",{sex:t.tapIndex},{token:!0});case 3:if(n=a.sent,r=(0,i.default)(n,2),l=r[0],o=r[1],e.$http.errorCheck(l,o)){a.next=9;break}return a.abrupt("return");case 9:1===o.data.code?(e.sexsi=t.tapIndex,uni.showToast({title:"保存成功"})):(e.$api.msg(o.data.msg),e.logining=!1);case 10:case"end":return a.stop()}}),a)})))()},doBefore:function(){console.log("doBefore")},clk:function(t){this.$refs.avatar.fChooseImg(t,{selWidth:"350upx",selHeight:"350upx",expWidth:"260upx",expHeight:"260upx",inner:t?"true":"false"})},doUpload:function(t){var e=this;uni.showLoading({title:"加载中"}),uni.uploadFile({url:this.config.webUrl+"/api/user/avatar?token="+uni.getStorageSync("userInfo").token,filePath:t.path,name:"file",dataType:"json",formData:{token:uni.getStorageSync("userInfo").token,uid:uni.getStorageSync("userInfo").id},success:function(t){uni.hideLoading();var a=JSON.parse(t.data);if(1==a.code){console.log(a.data.url),uni.showToast({title:"修改成功"}),e.urls=e.config.imgUrl+a.data.url;var n=uni.getStorageSync("userInfo");n&&(n.portrait=e.config.imgUrl+a.data.url,e.login(n))}else uni.showToast({title:a.msg})},complete:function(t){uni.hideLoading(),console.log(t)}})}}),components:{avatar:o.default}};e.default=u},"9e4c":function(t,e,a){var n=a("ef4f");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("7c7aab8c",n,!0,{sourceMap:!1,shadowMode:!1})},cb0f:function(t,e,a){"use strict";var n=a("9e4c"),i=a.n(n);i.a},e1d6:function(t,e,a){"use strict";a.r(e);var n=a("9d87"),i=a.n(n);for(var r in n)"default"!==r&&function(t){a.d(e,t,(function(){return n[t]}))}(r);e["default"]=i.a},ef4f:function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */uni-page-body[data-v-799a34ef]{background:#f8f8f8}.yyt-ellipsis[data-v-799a34ef]{display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.avatar[data-v-799a34ef]{padding-top:%?40?%!important;padding-bottom:%?40?%!important}.agess[data-v-799a34ef]{position:absolute;z-index:2;top:0;right:0;height:100%;line-height:38px;padding-left:200px;padding-right:36px!important;background:transparent}.avatar .cell-tit[data-v-799a34ef]{font-weight:700!important}.avatar uni-image[data-v-799a34ef]{position:absolute;top:50%;right:36px;width:%?88?%;height:%?88?%;-webkit-border-radius:50%;border-radius:50%;margin-top:%?-44?%;z-index:1}.list-cell[data-v-799a34ef]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:baseline;-webkit-align-items:baseline;align-items:baseline;padding:%?20?% %?30?%;line-height:%?60?%;position:relative;background:#fff;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.list-cell.log-out-btn[data-v-799a34ef]{margin-top:%?40?%}.list-cell.log-out-btn .cell-tit[data-v-799a34ef]{color:#fa436a;text-align:center;margin-right:0}.list-cell.cell-hover[data-v-799a34ef]{background:#fafafa}.list-cell.b-b[data-v-799a34ef]:after{left:%?30?%}.list-cell.m-t[data-v-799a34ef]{margin-top:%?16?%}.list-cell .cell-more[data-v-799a34ef]{-webkit-align-self:baseline;align-self:baseline;font-size:%?32?%;color:#909399;margin-left:%?10?%}.list-cell .cell-tit[data-v-799a34ef]{-webkit-box-flex:1;-webkit-flex:1;flex:1;font-size:%?30?%;color:#303133;margin-right:%?10?%}.list-cell .cell-tip[data-v-799a34ef]{font-size:%?28?%;color:#909399}.list-cell uni-switch[data-v-799a34ef]{-webkit-transform:translateX(%?16?%) scale(.84);transform:translateX(%?16?%) scale(.84)}body.?%PAGE?%[data-v-799a34ef]{background:#f8f8f8}',""]),t.exports=e}}]);